<?xml version="1.0" encoding="UTF-8"?>
<project name="EasybTestRunner" default="all" basedir=".">
    <property environment="env"/>
    <path id="groovy.classpath">
        <!-- <fileset dir="${env.GROOVY_HOME}/embeddable/"/> -->
        <fileset dir="/home/lpincini/projects/toolbox/easyb/"/>
    </path>
    <target name="all" depends="run-easyb-stories"/>
    <target name="run-easyb-specs" description="Run all specifications">
        <taskdef name="easyb" classname="org.disco.easyb.ant.BehaviorRunnerTask" classpathref="groovy.classpath"/>
        <easyb failureProperty="easyb.failed">
            <classpath>
                <path refid="groovy.classpath" />
                <pathelement path="build/classes/" />
            </classpath>
            <report location="build/specs.txt" format="txtspecification" />
            <behaviors dir="test">
                <include name="**/*Specification.groovy" />
            </behaviors>
        </easyb>
    </target>
    <target name="run-easyb-stories" depends="run-easyb-specs" description="Run all stories">
        <easyb failureProperty="easyb.failed">
            <classpath>
                <path refid="groovy.classpath" />
                <pathelement path="build/classes/" />
            </classpath>
            <report location="build/stories.txt" format="txtstory" />
            <behaviors dir="test">
                <include name="**/*.story" />
            </behaviors>
        </easyb>
    </target>
</project>
